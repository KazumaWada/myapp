<% if @posts.any? %>

 <% @posts.each do |p| %>
 <%= link_to post_path(p), class: 'text-body' do %> 

   <div class="card mt-2">
      <%= image_tag p.image.url, class: 'img-fluid' %>
      <% end %><%# post_path_link %>
      <div class="card-body">
    　<h5 class="card-title">
      <%# link_to user_path(@user) do %>
      <%= image_tag p.user.avatar.url, class: "rounded-circle", width: "40px", height: "40px" %>
      <%# end %>
      <%= p.title %>
      </h5>
        <p class="card-text">
        <% p.tags.each do |tag| %>
    　　<i class="fas fa-tag"><%= tag.name %></i>
　　　　　<% end %>      
        <span>
        <i class="fas fa-eye"><%= p.impressions_count %></i>
        </span>
        </p>
      </div><%# card-body %>
    </div><%# card %>



  
 
     
    <% end %><%# each %>
  

     <% end %> <%# ifpostsany? %>
 


<%# post/showが、@post.user.name これで表示できたから、これもavatarいけると思う。 %>

  <%# アバターは、@postループの外でやればいい。
  もしくは、@postから、avatarまでたどり着いて、ループの中に書くか。
  以前までは、belongs_toがなぜかコメントアウトされていたから、今回はうまくいくと思うよ。 %>

